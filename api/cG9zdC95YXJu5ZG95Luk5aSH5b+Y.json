{"title":"yarn命令备忘","date":"2017-05-22T13:13:23.000Z","author":"许盛","thumbnail":"/assets/images/yarn命令备忘/yarn.png","excerpt":"<p>包管理器从<code>npm</code>到<code>cnpm</code>，再到现在使用的<code>yarn</code>，其实命令都是大同小异。</p>","slug":"yarn命令备忘","comments":true,"tags":["yarn"],"categories":["yarn"],"updated":"2018-08-23T07:44:54.845Z","content":"<p>包管理器从<code>npm</code>到<code>cnpm</code>，再到现在使用的<code>yarn</code>，其实命令都是大同小异。</p>\n<a id=\"more\"></a>\n<h2 id=\"几个常用的命令：\"><a href=\"#几个常用的命令：\" class=\"headerlink\" title=\"几个常用的命令：\"></a>几个常用的命令：</h2><ul>\n<li><code>yarn add</code>：在当前的项目中添加一个依赖包，会自动更新到<code>package.json</code>和<code>yarn.lock</code>文件中。</li>\n<li><code>yarn init</code>：类似于<code>npm init</code>和<code>cnpm init</code>，初始化包的开发环境。</li>\n<li><code>yarn install</code>：安装<code>package.json</code>文件里定义的所有依赖包，可以简写成<code>yarn</code></li>\n<li><code>yarn publish</code>：发布一个包</li>\n<li><code>yarn remove</code>：移除一个包，会自动更新<code>package.json</code>和<code>yarn.lock</code></li>\n</ul>\n<h2 id=\"默认命令：\"><a href=\"#默认命令：\" class=\"headerlink\" title=\"默认命令：\"></a>默认命令：</h2><p>运行<code>yarn</code>不带命令将运行<code>yarn install</code>，并把参数标识传递给它。</p>\n<h2 id=\"命令详解\"><a href=\"#命令详解\" class=\"headerlink\" title=\"命令详解\"></a>命令详解</h2><h3 id=\"一、yarn-add\"><a href=\"#一、yarn-add\" class=\"headerlink\" title=\"一、yarn add\"></a>一、yarn add</h3><p>安装包和任何它依赖的包。</p>\n<h4 id=\"可以使用以下方法指定版本号：\"><a href=\"#可以使用以下方法指定版本号：\" class=\"headerlink\" title=\"可以使用以下方法指定版本号：\"></a>可以使用以下方法指定版本号：</h4><ol>\n<li><code>yarn add package-name</code>：安装latest最新版本</li>\n<li><code>yarn add package-name@1.2.3</code>：安装指定版本，这里指的是主要版本，如果需要精确到小版本，使用<code>-E</code>参数。</li>\n<li><code>yarn add package-name@tag</code>：安装某个<code>tag</code>（比如<code>beta</code>,<code>next</code>或者<code>latest</code>）</li>\n</ol>\n<h4 id=\"指定不同路径的包\"><a href=\"#指定不同路径的包\" class=\"headerlink\" title=\"指定不同路径的包\"></a>指定不同路径的包</h4><ol>\n<li><code>yarn add package-name</code>，从<code>npm registry</code>里安装包，除非你在<code>package.json</code>里指定了其他的registry。</li>\n<li><code>yarn add file:/path/to/local/folder</code>，从本地文件系统安装一个包。可以用来测试自己未发布的包。</li>\n<li><code>yarn add file:/path/to/local/tarball.tgz</code>，安装一个<code>gzipped</code>压缩包，这个格式可以用于在发布之前分享你的包</li>\n<li><code>yarn add &lt;git remote url&gt;</code>，从远程 <code>git repo</code> 里安装一个包</li>\n<li><code>yarn add &lt;git remote url&gt;#&lt;branch/commit/tag&gt;</code>，从一个远程git仓库指定的分支，提交记录或者tag安装一个包。</li>\n<li><code>yarn add https://my-project.org/package.tgz</code>，用一个远程<code>gzipped</code>压缩包来安装。</li>\n</ol>\n<h4 id=\"全局安装\"><a href=\"#全局安装\" class=\"headerlink\" title=\"全局安装\"></a>全局安装</h4><p>这个命令和之前使用<code>npm</code>时使用<code>--global</code>或<code>-g</code>参数不同。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn global add &lt;package...&gt;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"参数\"><a href=\"#参数\" class=\"headerlink\" title=\"参数\"></a>参数</h4><ol>\n<li><code>--dev</code>或<code>-D</code>会添加在<code>devDependencies</code>中。</li>\n<li><code>--peer</code>或<code>-P</code>会添加在<code>peerDependencies</code>中。</li>\n<li><code>--optional</code>或<code>-O</code>会添加在<code>optionalDependencies</code>中。</li>\n<li><code>--exact</code>或<code>-E</code>,安装包的精确版本。</li>\n<li><code>--tilde</code>或<code>-T</code>安装包的次要版本里的最新版，默认是安装主要版本的最新版，比如<code>yarn add foo@1.2.3 -T</code>会接受<code>1.2.9</code>，但是不接受<code>1.3.0</code>。</li>\n</ol>\n<h3 id=\"二、-yarn-bin\"><a href=\"#二、-yarn-bin\" class=\"headerlink\" title=\"二、 yarn bin\"></a>二、 yarn bin</h3><p><code>yarn bin</code> 将打印 <code>yarn</code> 将把你的包里可执行文件安装到的目录。 一个可执行文件的例子也许是一个你定义在你的包里的，可以通过 <code>yarn run</code> 可执行脚本。</p>\n<p><code>yarn bin</code> will print the folder where <code>yarn</code> will install executable files for your package. An example of an executable may be a script that you have defined for your package that can be executed via <code>yarn run</code>.</p>\n<h3 id=\"三、yarn-cache\"><a href=\"#三、yarn-cache\" class=\"headerlink\" title=\"三、yarn cache\"></a>三、yarn cache</h3><h4 id=\"yarn-cache-ls\"><a href=\"#yarn-cache-ls\" class=\"headerlink\" title=\"yarn cache ls\"></a>yarn cache ls</h4><h4 id=\"yarn-cache-dir\"><a href=\"#yarn-cache-dir\" class=\"headerlink\" title=\"yarn cache dir\"></a>yarn cache dir</h4><h4 id=\"yarn-cache-clean\"><a href=\"#yarn-cache-clean\" class=\"headerlink\" title=\"yarn cache clean\"></a>yarn cache clean</h4><h4 id=\"改变-yarn-缓存路径\"><a href=\"#改变-yarn-缓存路径\" class=\"headerlink\" title=\"改变 yarn 缓存路径\"></a>改变 yarn 缓存路径</h4>","prev":{"title":"2017半载小记","slug":"2017半载小记"},"next":{"title":"xshell自定义配色","slug":"xshell自定义配色"},"link":"/post/yarn命令备忘","toc":[{"title":"几个常用的命令：","id":"几个常用的命令：","index":"1"},{"title":"默认命令：","id":"默认命令：","index":"2"},{"title":"命令详解","id":"命令详解","index":"3","children":[{"title":"一、yarn add","id":"一、yarn-add","index":"3.1"},{"title":"二、 yarn bin","id":"二、-yarn-bin","index":"3.2"},{"title":"三、yarn cache","id":"三、yarn-cache","index":"3.3"}]}]}