{"title":"git撤销已经push到远端的commit","date":"2016-07-13T20:17:34.000Z","author":"许盛","excerpt":"<p>在使用git时，push到远端后发现commit了多余的文件，或者希望能够回退到以前的版本。</p>","slug":"git撤销已经push到远端的commit","comments":true,"tags":["git"],"categories":["git"],"updated":"2018-08-20T10:21:45.106Z","content":"<p>在使用git时，push到远端后发现commit了多余的文件，或者希望能够回退到以前的版本。</p>\n<a id=\"more\"></a>\n<p>先在本地回退到相应的版本：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git reset --hard &lt;版本号&gt;</span><br><span class=\"line\">// 注意使用 --hard 参数会抛弃当前工作区的修改</span><br><span class=\"line\">// 使用 --soft 参数的话会回退到之前的版本，但是保留当前工作区的修改，可以重新提交</span><br></pre></td></tr></table></figure></p>\n<p>如果此时使用命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push origin &lt;分支名&gt;</span><br></pre></td></tr></table></figure></p>\n<p>会提示本地的版本落后于远端的版本；<br><img src=\"/assets/images/git撤销已经push到远端的commit/push.png\" alt=\"git push\"></p>\n<p>为了覆盖掉远端的版本信息，使远端的仓库也回退到相应的版本，需要加上参数<code>--force</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push origin &lt;分支名&gt; --force</span><br></pre></td></tr></table></figure></p>\n","prev":{"title":"centos7中安装及初步配置mariadb","slug":"centos7中安装及初步配置mariadb"},"link":"/post/git撤销已经push到远端的commit"}