{"title":"配置什么都没有的精简ubuntu系统（修改apt-get默认源）","date":"2016-11-01T15:34:40.000Z","author":"许盛","excerpt":"","slug":"配置什么都没有的精简ubuntu系统（修改apt-get默认源）","comments":true,"tags":["linux","docker"],"categories":["linux"],"updated":"2018-08-23T09:51:26.367Z","content":"<p>首先利用 docker 创建一个基于 ubuntu 镜像的容器<br><img src=\"assets/images/配置什么都没有的精简ubuntu系统（修改apt-get默认源）/docker-run.png\" alt=\"这里写图片描述\"></p>\n<p>这个时候当我们试图安装一个 curl 软件的时候，会提示 <code>E：Unable to locate package curl</code>。因为Docker镜像为了精简镜像容量，默认删除了这些信息，需要我们使用<code>apt-get update</code>命令来更新一次。<br><img src=\"assets/images/配置什么都没有的精简ubuntu系统（修改apt-get默认源）/apt-get-install.png\" alt=\"这里写图片描述\"></p>\n<p>但是使用 <code>apt-get update</code> 命令更新时奇慢无比，因为默认的源是国外的源，需要自己手动去<code>/etc/apt/sources.list</code>文件中去修改。</p>\n<p><strong>1. 首先备份一下原有的 <code>sources.list</code> 文件。</strong><br><img src=\"assets/images/配置什么都没有的精简ubuntu系统（修改apt-get默认源）/cp.png\" alt=\"这里写图片描述\"></p>\n<p><strong>2. 然后修改原先的sources.list文件</strong><br>这里一开始想当然的使用<code>vim sources.list</code>命令了。。。<br><img src=\"assets/images/配置什么都没有的精简ubuntu系统（修改apt-get默认源）/vim.png\" alt=\"这里写图片描述\"><br>好吧，精简版的并没有vim。。。<br>想了半天，只能只用 <code>echo &gt;&gt;</code>的方法了。。。</p>\n<p>这里使用中科大的镜像源：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deb http://mirrors.ustc.edu.cn/ubuntu/ xenial main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.ustc.edu.cn/ubuntu/ xenial-security main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.ustc.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.ustc.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.ustc.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.ustc.edu.cn/ubuntu/ xenial main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.ustc.edu.cn/ubuntu/ xenial-security main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.ustc.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.ustc.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.ustc.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure></p>\n<p>在命令行中如下输入：<br><img src=\"assets/images/配置什么都没有的精简ubuntu系统（修改apt-get默认源）/apt-get-update.png\" alt=\"这里写图片描述\"></p>\n<p>如果一次写入所有的话，没有换行。。。。一行一行的追加显得有点笨，不知道有没有好点的方法。。。</p>\n<p>全部写入后执行一次<code>apt-get update</code>命令即可。</p>\n<p>几秒钟就update完成了，速度感人。</p>\n<p>接下来就可以 <code>apt-get install</code>安装自己想要的软件了。</p>\n<hr>\n<p>中科大的源貌似还是有点慢，贴一下网易的源：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deb http://mirrors.163.com/ubuntu/ precise-updates main restricted</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ precise-updates main restricted</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ precise universe</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ precise universe</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ precise-updates universe</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ precise-updates universe</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ precise multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ precise multiverse</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ precise-updates multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ precise-updates multiverse</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ precise-backports main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ precise-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure></p>\n","prev":{"title":"docker切换默认镜像源","slug":"docker切换默认镜像源"},"next":{"title":"git撤销已经push到远端的commit","slug":"git撤销已经push到远端的commit"},"link":"/post/配置什么都没有的精简ubuntu系统（修改apt-get默认源）"}