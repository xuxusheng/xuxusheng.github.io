{"title":"","date":"2018-08-20T08:15:29.517Z","excerpt":"<hr>\n<p>title: linux下使用webpack-dev-server不自动刷新页面<br>author: 许盛<br>date: 2018-07-27 22:18:37<br>tags:</p>\n<ul>\n<li>webpack</li>\n<li>linux<br>categories:</li>\n<li>webpack<br>—¡¡</li>\n</ul>\n<h1 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h1><p>当在开发环境使用 <code>webpack-dev-server</code> 时，如果文件修改了，那么 <code>webpack-dev-server</code> 会自动重新构建，并刷新浏览器页面，之前在 <code>osx</code>、<code>windows</code> 系统上使用时都没有问题，然而最近在 <code>deepin</code> 系统上使用时，却发现没法自动刷新了，只能手动的停掉，然后重新 <code>yarn start</code>，体验极差。</p>","slug":"linux下使用webpack-dev-server不自动刷新页面","comments":true,"updated":"2018-08-20T08:15:29.517Z","content":"<hr>\n<p>title: linux下使用webpack-dev-server不自动刷新页面<br>author: 许盛<br>date: 2018-07-27 22:18:37<br>tags:</p>\n<ul>\n<li>webpack</li>\n<li>linux<br>categories:</li>\n<li>webpack<br>—¡¡</li>\n</ul>\n<h1 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h1><p>当在开发环境使用 <code>webpack-dev-server</code> 时，如果文件修改了，那么 <code>webpack-dev-server</code> 会自动重新构建，并刷新浏览器页面，之前在 <code>osx</code>、<code>windows</code> 系统上使用时都没有问题，然而最近在 <code>deepin</code> 系统上使用时，却发现没法自动刷新了，只能手动的停掉，然后重新 <code>yarn start</code>，体验极差。</p>\n<a id=\"more\"></a>\n<h1 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h1><p>一开始怀疑是不是编辑器的 <code>safe write</code> 的问题。</p>\n<p>关于 <code>safe write</code> 这个可以查看官网上的描述：<a href=\"https://webpack.js.org/guides/development/#adjusting-your-text-editor\" target=\"_blank\" rel=\"noopener\">https://webpack.js.org/guides/development/#adjusting-your-text-editor</a></p>\n<p>但是在尝试禁用掉 <code>safe write</code> 功能之后，依然存在这个问题。</p>\n<p>一番 <code>google</code> 大法之后，在 <code>webpack</code> 仓库的 <code>issue</code> 中找到了一个类似的提问：<a href=\"https://github.com/webpack/webpack/issues/2239。\" target=\"_blank\" rel=\"noopener\">https://github.com/webpack/webpack/issues/2239。</a></p>\n<p>解决方法参见：<a href=\"https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers\" target=\"_blank\" rel=\"noopener\">https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers</a></p>\n<p>英文好的话可以直接看原文，其实核心就是一条命令：</p>\n<h3 id=\"1-Debian-RedHat-系统\"><a href=\"#1-Debian-RedHat-系统\" class=\"headerlink\" title=\"1.Debian,RedHat 系统\"></a>1.Debian,RedHat 系统</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf &amp;&amp; sudo sysctl -p</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-ArchLinux-系统\"><a href=\"#2-ArchLinux-系统\" class=\"headerlink\" title=\"2.ArchLinux 系统\"></a>2.ArchLinux 系统</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo fs.inotify.max_user_watches=524288 | sudo tee /etc/sysctl.d/40-max-user-watches.conf &amp;&amp; sudo sysctl --system</span><br></pre></td></tr></table></figure>","next":{"title":"vim粘贴时缩进错乱","slug":"vim粘贴时缩进错乱"},"link":"/post/linux下使用webpack-dev-server不自动刷新页面","toc":[{"title":"背景","id":"背景","index":"1"},{"title":"解决方案","id":"解决方案","index":"2"}]}