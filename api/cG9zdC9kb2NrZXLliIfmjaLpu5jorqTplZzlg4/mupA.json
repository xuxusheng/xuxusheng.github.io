{"title":"docker切换默认镜像源","date":"2016-11-18T10:54:36.000Z","author":"许盛","excerpt":"","slug":"docker切换默认镜像源","comments":true,"tags":["docker"],"categories":["docker"],"updated":"2018-08-23T09:35:02.354Z","content":"<blockquote>\n<p>基于 centos 7</p>\n</blockquote>\n<p>默认安装的 docker 镜像源是在国外，pull 镜像的时候奇慢无比，需要自己手动切换成国内的镜像源。</p>\n<h2 id=\"1-修改配置文件\"><a href=\"#1-修改配置文件\" class=\"headerlink\" title=\"1. 修改配置文件\"></a>1. 修改配置文件</h2><pre><code>docker 默认的配置文件是 `/etc/default/docker`，如果此目录下不存在 docker 文件，可以自己手动创建一个，将文件中添加内容：\n</code></pre><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\tDOCKER_OPTS=&quot; --registry-mirror=https://【xxxxx】.mirror.aliyuncs.com&quot; </span><br><span class=\"line\">```\t</span><br><span class=\"line\">上述代码中的地址替换成自己想要更换的镜像源的地址即可，然后使用 `service docker restart`命令重启服务。</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; 上述方法如果嫌麻烦的话，也可以直接输入一行命令即可</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>  sudo echo “DOCKER_OPTS=\\”$DOCKER_OPTS –registry-mirror=<a href=\"http://xxx.m.daocloud.io\\&quot;&quot;\" target=\"_blank\" rel=\"noopener\">http://xxx.m.daocloud.io\\&quot;&quot;</a> &gt;&gt; /etc/default/docker service docker restart</p>\n</blockquote>\n<blockquote>\n<p><code>`</code></p>\n</blockquote>\n","prev":{"title":"Chrome DevTools相关知识收录","slug":"Chrome-DevTools相关知识收录"},"next":{"title":"配置什么都没有的精简ubuntu系统（修改apt-get默认源）","slug":"配置什么都没有的精简ubuntu系统（修改apt-get默认源）"},"link":"/post/docker切换默认镜像源","toc":[{"title":"1. 修改配置文件","id":"1-修改配置文件","index":"1"}]}